<?php require('utils.php');$fileName = $HTTP_GET_VARS['file'];$rows = allLinkRowsForDocument($fileName,$TIMEXES_TABLE);$title = "Timexes in $fileName";function mycmp($a, $b) {   	if ($a["sentid"] == $b["sentid"]) {		return 0;	}	return ($a["sentid"] < $b["sentid"]) ? -1 : 1;}usort($rows, "mycmp");?><!doctype html public "-//W3C//DTD HTML 4.0 //EN"> <html><head><title><?php echo $title; ?></title><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"><link href="timebank.css" rel="stylesheet" type="text/css"><script src='setPointer.js' language="JavaScript" type="text/JavaScript"></script><script language="JavaScript" type="text/JavaScript"><!--var browser;if (navigator.appName == "Netscape"){   	browser="NN"; } else if (navigator.userAgent.indexOf("MSIE")!= -1){    browser="IE"; } else {    browser="Unknown"; }function setStatus (win,eid1,eiid1,tid1,rel,eid2,eiid2,tid2,str1,str2) {  var tleft, tright;  if (eid1) { tleft = str1 + " [" + eid1 + " " + eiid1 + "]"; }  else { tleft = str1 + " [" + tid1 + "]"; }  if (eid2) { tright = str2 + " [" + eid2 + " " + eiid2 + "]"; }  else { tright = str2 + " [" + tid2 + "]"; }  var statusText = tleft + " -- " + rel + " --> " + tright;   win.status = statusText;  var element = window.opener.document.getElementById("linkdata");  element.setAttribute("value",statusText);}function rowOver (sender) {  setPointer(sender,'over','#dddddd','#ccffcc','#ffcc99');}function rowOut (sender) {  setPointer(sender,'out','#dddddd','#ccffcc','#ffcc99'); }function rowClick (sender,ids) {  highlightTags(ids);  //setPointer(sender,'click','#dddddd','#ccffcc','#ffcc99');}function highlightTags (ids) {	var savedTag, element;		//var debugWin = window.open("","debug","width=400,height=200,scrollbars=yes,resizable=yes");	//debugWin.document.open();	//debugWin.document.write("highlightTags(" + ids + ")<br>\n");	//debugWin.document.write("&nbsp;&nbsp;browser=" + browser + "<br>\n");	//debugWin.document.write("&nbsp;&nbsp;removing highlights from \n");	//debugWin.document.write("[" + window.opener.savedTags.toString() + "]<br>\n");  	for (var i = 0; i < window.opener.savedTags.length; i++) {		savedTag = window.opener.savedTags[i];		if (browser == 'IE') {			element = window.opener.document.all[savedTag]; 			element.style.backgroundColor = '#ffffff'; }		else {			element = window.opener.document.getElementById(savedTag);			element.setAttribute("class","None"); }		//debugWin.document.write("&nbsp;&nbsp;&nbsp;&nbsp;tag=" + element.innerHTML + "<br>\n"); 	}	//debugWin.document.write("&nbsp;&nbsp;resetting savedTags array<br>\n");  	window.opener.savedTags = new Array();	//debugWin.document.write("&nbsp;&nbsp;adding highlights<br>\n");  	for (var i = 0; i < ids.length; i++) {		// do not use push(ids[i]) or even concat(ids[i]) for IE5		window.opener.savedTags[window.opener.savedTags.length] = ids[i];		if (browser == 'IE') {			element = window.opener.document.all[ids[i]]; 			element.style.backgroundColor = '#cccccc'; }		else {			element = window.opener.document.getElementById(ids[i]); 			element.setAttribute("class","highlight"); }		//debugWin.document.write("&nbsp;&nbsp;&nbsp;&nbsp;tag=" + element.innerHTML + "<br>\n"); 	}	//debugWin.document.close();}//--></script></head><body><h2><?php echo $title; ?></h2><table cellpadding="5"><tr>	<th bgcolor="#CCCCCC">sent</td>	<th bgcolor="#CCCCCC">timex</td>	<th bgcolor="#CCCCCC">type</td>	<th bgcolor="#CCCCCC">value</td>	<th bgcolor="#CCCCCC">mod</td>	<th bgcolor="#CCCCCC">funindoc</td>	<th bgcolor="#CCCCCC">fun</td>	<th bgcolor="#CCCCCC">anchor</td>	<th bgcolor="#CCCCCC">t1</td>	<th bgcolor="#CCCCCC">t2</td>	<th bgcolor="#CCCCCC">f</td>	<th bgcolor="#CCCCCC">q</td></tr><?phpforeach ($rows as $row) {	$tid = $row['tid'];	$text = $row['text'];	$type = $row['type'];	$value = $row['value'];	$mod = $row['mod'];	$functionInDoc = $row['functionInDoc'];	$temporalFunction = $row['temporalFunction'];	$anchorTimeID = $row['anchorTimeID'];	$begin = $row['beginPoint'];	$end = $row['endPoint'];	$freq = $row['freq'];	$quant = $row['quant'];	$sentID = $row['sentid'];	$text = str_replace(" ","&nbsp;",$text);	$strDisplay = "<span class=timex>" . $text . "</span>"; 	$tags = "[\"$tid\"]";?>  <tr 	onmouseover=javascript:rowOver(this)	onmouseout=javascript:rowOut(this)	onclick=javascript:rowClick(this,<?php echo "$tags"; ?>)>	<td valign=bottom bgcolor="#dddddd"><?php echo $sentID ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $strDisplay ?><sup><?php echo $tid ?></sup></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $type ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $value ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $mod ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $functionInDoc ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $temporalFunction ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $anchorTimeID ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $begin ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $end ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $freq ?></td>	<td valign=bottom bgcolor="#dddddd"><?php echo $quant ?></td></tr><?php}?></table></body></html>